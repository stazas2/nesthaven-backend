# Используем официальный образ Node.js в качестве базового
FROM node:20

# Создаем рабочую директорию внутри контейнера
WORKDIR /app

# Копируем package.json и yarn.lock в рабочую директорию
COPY package.json yarn.lock ./

# Устанавливаем зависимости проекта с помощью Yarn
RUN npm install

# Копируем все файлы проекта в рабочую директорию
COPY . .

# Открываем порт, на котором будет работать приложение (по умолчанию 1337)
EXPOSE 1337

# Запускаем приложение с помощью Yarn
CMD ["yarn", "server"]